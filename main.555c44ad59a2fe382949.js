(()=>{var e,t={557:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n(791),a=n(623);function r(e,t){const n=(0,o.Z)("h2",{className:"heading heading_secondary cards__heading",textContent:e.title}),r=(0,o.Z)("p",{className:"text cards__text",textContent:e.description}),s=(0,o.Z)("div",{className:"cards__info",children:"todo"===t?[(0,o.Z)("span",{className:"text text_small text_end",textContent:"Priority: ",children:[(0,o.Z)("span",{className:"text_bold text_"+("low"===e.priority?"green":"high"===e.priority?"red":"orange"),textContent:e.priority})]}),(0,o.Z)("span",{className:"text text_small text_end",textContent:"Due: ",children:[(0,o.Z)("span",{className:"text_bold",textContent:new Date(e.due).toLocaleDateString()})]})]:[(0,o.Z)("span",{className:"text text_small text_end",textContent:"Todos: ",children:[(0,o.Z)("span",{className:"text_bold",textContent:Object.keys(e.todos).length.toString()})]})]}),i=(0,o.Z)("a",{href:`./${t}s/${e.id}`,className:"cards__item",onclick:a.Z,children:[n,r,s]});return"todo"===t&&i.classList.add("cards__item_"+(e.done?"green":"red")),i}},714:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n(791);const a=n.p+"63e295f830c62b67c869.svg";function r(e,t,...n){const r="dialog-label",s="dialog_transition",i=(0,o.Z)("h1",{id:r,className:"heading heading_primary heading_center",textContent:e}),c=(0,o.Z)("img",{src:a,alt:"Close dialog",className:"button__icon"}),l=(0,o.Z)("button",{type:"button",className:"button button_svg dialog__button",children:[c],onclick:()=>u.close()}),d=(0,o.Z)("div",{className:"dialog__content",children:[l,i,...n]});!function(e){const t=e.querySelectorAll('.input:not(disabled), .button:not(disabled), [href], [tabIndex]:not([tabIndex="-1"])'),n=t[0],o=t[t.length-1];n.addEventListener("keydown",(e=>{"Tab"===e.key&&e.shiftKey&&(e.preventDefault(),o.focus())})),o.addEventListener("keydown",(e=>{"Tab"!==e.key||e.shiftKey||(e.preventDefault(),n.focus())}))}(d);const u=Object.assign((0,o.Z)("div",{className:`dialog ${s}`,role:"dialog",attributes:[{key:"aria-labelledby",value:r},{key:"aria-modal",value:"true"}],children:[d],onclick:e=>{e.target.classList.contains("dialog")&&u.close()},onkeydown:e=>{"Escape"===e.key&&u.close()}}),{open:()=>{const e=document.querySelector(".root");e?.appendChild(u),t.setAttribute("aria-expanded","true"),l.focus(),setTimeout((()=>u.classList.remove(s)))},close:()=>{u.classList.add(s),t.setAttribute("aria-expanded","false"),t.focus(),setTimeout((()=>u.remove()),200)}});return u}},561:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n(791),a=n(379);function r(){return(0,o.Z)("header",{className:"header",children:[(0,a.default)()]})}},379:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n(791);const a=n.p+"a16933acb6a71f7361ac.svg";function r(){const e=(0,o.Z)("img",{src:a,alt:"Todo list home page",className:"logo__icon"}),t=(0,o.Z)("span",{className:"logo__text",textContent:"Todo List",attributes:[{key:"aria-hidden",value:"true"}]});return(0,o.Z)("a",{href:"./",className:"logo",children:[e,t]})}},558:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n(791),a=n(724);function r(){return(0,o.Z)("main",{className:"main",children:[(0,a.default)()]})}},394:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n(791),a=n(623);function r(){const e=(0,o.Z)("h1",{className:"heading heading_primary nav__heading",textContent:"Menu"}),t=(0,o.Z)("a",{href:"./todos",className:"nav__link nav__link_primary nav__link_active",textContent:"Todos",onclick:a.Z}),n=(0,o.Z)("a",{href:"./todos/today",className:"nav__link nav__link_secondary",textContent:"Today",onclick:a.Z}),r=(0,o.Z)("li",{className:"nav__item nav__item_secondary",children:[n]}),s=(0,o.Z)("a",{href:"./todos/week",className:"nav__link nav__link_secondary",textContent:"Week",onclick:a.Z}),i=(0,o.Z)("li",{className:"nav__item nav__item_secondary",children:[s]}),c=(0,o.Z)("ul",{className:"nav__menu nav__menu_secondary",children:[r,i]}),l=(0,o.Z)("li",{className:"nav__item nav__item_primary",children:[t,c]}),d=(0,o.Z)("a",{href:"./projects",className:"nav__link nav__link_primary",textContent:"Projects",onclick:a.Z}),u=(0,o.Z)("li",{className:"nav__item nav__item_primary",children:[d]}),p=(0,o.Z)("ul",{className:"nav__menu nav__menu_primary",children:[l,u]});return(0,o.Z)("nav",{className:"nav",children:[e,p]})}},724:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var o=n(203),a=n(731),r=n(791),s=n(623),i=n(484),c=n(557),l=n(714);function d(e){return e&&"today"!==e&&"week"!==e?function(e){const t=o.Z.getTodo(e),a=(0,r.Z)("h1",{className:"heading heading_primary heading_center",textContent:t.title}),c=new Date;c.setUTCHours(0),c.setUTCMinutes(0),c.setUTCSeconds(0),c.setUTCMilliseconds(0);const u=(0,r.Z)("p",{className:"text text_small text_center text_bold text_"+(t.done?"green":+new Date(t.due)>=+c?"orange":"red"),textContent:`(${t.done?"Completed":+new Date(t.due)>=+c?"Ongoing":"Overdue"})`}),p=(0,r.Z)("p",{className:"text text_center",textContent:t.description}),m=(0,r.Z)("div",{className:"main__details",children:[(0,r.Z)("span",{className:"text text_small text_end",textContent:"Project: ",children:[(0,r.Z)("a",{href:`./projects/${t.projectId}`,className:"link",textContent:o.Z.getProject(t.projectId).title,onclick:s.Z})]}),(0,r.Z)("span",{className:"text text_small text_end ",textContent:"Priority: ",children:[(0,r.Z)("span",{className:"text_bold text_"+("low"===t.priority?"green":"high"===t.priority?"red":"orange"),textContent:t.priority})]}),(0,r.Z)("span",{className:"text text_small text_end",textContent:"Due: ",children:[(0,r.Z)("span",{className:"text_bold",textContent:new Date(t.due).toLocaleDateString()})]}),(0,r.Z)("span",{className:"text text_small text_end",textContent:"Created: ",children:[(0,r.Z)("span",{className:"text_bold",textContent:new Date(t.created).toLocaleDateString()})]})]}),h=(0,r.Z)("button",{className:"button button_generic",textContent:"Edit",attributes:[{key:"aria-haspopup",value:"true"},{key:"aria-expanded",value:"false"}],onclick:()=>{n.e(130).then(n.bind(n,130)).then((({default:n,FormField:a})=>{const r=a("title",t.title),s=a("description",t.description),c=a("priority",t.priority),u=a("done",t.done),p=n("PUT",(n=>{n.preventDefault(),p.checkValidity()&&(t.title=r.input.value,t.description=s.input.value,t.priority=c.input.value,t.done=u.input.checked,o.Z.updateTodo(t),(0,i.Z)(d(e)),m.close())}),r,s,c,u),m=(0,l.default)("Edit Todo",h,p);m.open()}))}}),f=(0,r.Z)("button",{className:"button button_generic button_delete",textContent:"Delete",attributes:[{key:"aria-haspopup",value:"true"},{key:"aria-expanded",value:"false"}],onclick:()=>{n.e(130).then(n.bind(n,130)).then((({default:t})=>{const n=t("DELETE",(t=>{t.preventDefault(),o.Z.deleteTodo(e),(0,i.Z)(d()),a.close()})),a=(0,l.default)("WARNING",f,(0,r.Z)("p",{className:"text text_center",textContent:"Are you sure you want to delete this todo? This action is irreversible!"}),n);a.open()}))}}),_=(0,r.Z)("div",{className:"main__controls",children:[h,f]});return(0,r.Z)("div",{className:"main__document",children:[a,u,p,m,_]})}(e):function(e){const t=o.Z.getTodosSorted(),s=(0,r.Z)("h1",{className:"heading heading_primary heading_center",textContent:(e?"today"===e?"Today's":"Weekly":"All")+" Todos"}),u=(0,r.Z)("div",{className:"cards",children:t.map((t=>{const n=new Date;n.setUTCDate(n.getDate()+("week"===e?6:0)),n.setUTCHours(0),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0);const o=new Date;if(o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),!e||+new Date(t.due)<=+n&&+new Date(t.due)>=+o)return(0,c.default)(t,"todo")})).filter(Boolean)}),p=(0,r.Z)("p",{className:"text text_center",textContent:"There are no todos yet..."}),m=(0,r.Z)("button",{type:"button",className:"button button_generic button_center",textContent:"New Todo",attributes:[{key:"aria-haspopup",value:"true"},{key:"aria-expanded",value:"false"}],onclick:()=>{n.e(130).then(n.bind(n,130)).then((({default:t,FormField:n})=>{const r=n("title"),s=n("description"),c=n("project"),u=n("priority"),p=n("due"),h=t("POST",(t=>{if(t.preventDefault(),!h.checkValidity())return;const n=(0,a.Z)(r.input.value,s.input.value,u.input.value,p.input.value,c.input.value);o.Z.updateTodo(n),(0,i.Z)(d(e)),f.close()}),r,s,c,u,p),f=(0,l.default)("Create Todo",m,h);f.open()}))}});return(0,r.Z)("div",{className:"main__collection",children:[s,u.childElementCount?u:p,m]})}(e)}},413:(e,t,n)=>{var o={"./card":[557],"./card.js":[557],"./dialog":[714],"./dialog.js":[714],"./form":[130,130],"./form.js":[130,130],"./header":[561],"./header.js":[561],"./logo":[379],"./logo.js":[379],"./main":[558],"./main.js":[558],"./nav":[394],"./nav.js":[394],"./projects":[59,59],"./projects.js":[59,59],"./todos":[724],"./todos.js":[724]};function a(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(a)))}a.keys=()=>Object.keys(o),a.id=413,e.exports=a},203:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(671);function a(e){window.localStorage.setItem("projects",JSON.stringify(e||{}))}const r={getProjects:function(){return JSON.parse(window.localStorage.getItem("projects"))},getProjectsSorted:function(){const e=[],t=this.getProjects();return Object.keys(t).forEach((n=>{const o=t[n];e.push(o)})),e.sort(((e,t)=>+new Date(t.created)-+new Date(e.created))),e},getProject:function(e){return this.getProjects()[e]},updateProject:function(e){const t=this.getProjects();t[e.id]=e,a(t)},deleteProject:function(e){const t=this.getProjects();delete t[e],a(t),this.initialize()},getTodos:function(e){if(e)return this.getProject(e).todos;let t={};const n=this.getProjects();return Object.keys(n).forEach((e=>{const o=n[e].todos;t={...t,...o}})),t},getTodosSorted:function(e){const t=[],n=this.getTodos(e);return Object.keys(n).forEach((e=>{const o=n[e];t.push(o)})),t.sort(((e,t)=>+new Date(e.due)-+new Date(t.due))),t},getTodo:function(e){return this.getTodos()[e]},updateTodo:function(e){const t=this.getProjects();t[e.projectId].todos[e.id]=e,a(t)},deleteTodo:function(e){const t=this.getProjects();delete t[this.getTodo(e).projectId].todos[e],a(t)},initialize:function(){const e=this.getProjects();if(e&&Object.keys(e).length)return;const t=(0,o.Z)("Default Project","Default project for demonstrative purpose. It was created automatically, because you do not have any other projects yet.");a(),this.updateProject(t)}}},671:(e,t,n)=>{"use strict";function o(e,t){return{id:Date.now().toString(),title:e,description:t,created:(new Date).toISOString().slice(0,10),todos:{}}}n.d(t,{Z:()=>o})},731:(e,t,n)=>{"use strict";function o(e,t,n,o,a){return{id:Date.now().toString(),title:e,description:t,priority:n,done:!1,due:o,created:(new Date).toISOString().slice(0,10),projectId:a}}n.d(t,{Z:()=>o})},484:(e,t,n)=>{"use strict";function o(e){const t=document.querySelector(".main");t.innerHTML="",t.appendChild(e)}n.d(t,{Z:()=>o})},791:(e,t,n)=>{"use strict";function o(e,t){const{children:n,attributes:o}=t;delete t.children,delete t.attributes;const a=Object.assign(document.createElement(e),t);return n&&a.append(...n),o&&o.forEach((e=>a.setAttribute(e.key,e.value))),a}n.d(t,{Z:()=>o})},623:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(484);function a(e){e.preventDefault();const t=e.currentTarget;let a=window.location.origin+"/";window.location.href.includes("todo-list")&&(a+="todo-list/");const[r,s]=t.href.replace(a,"").split("/"),i="nav__link_active",c=document.querySelector(`.${i}`),l=document.querySelector(`.nav__link[href="./${r}${"today"===s||"week"===s?`/${s}`:""}"]`);c?.classList.remove(i),l?.classList.add(i),n(413)(`./${r}`).then((({default:e})=>{(0,o.Z)(e(s))}))}}},n={};function o(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.m=t,o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>e+"."+{59:"03783be05a1c81dfc768",130:"36c2fda6275252fedf46"}[e]+".js",o.miniCssF=e=>e+".91783e08284f59ed7a98.css",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},o.l=(t,n,a,r)=>{if(e[t])e[t].push(n);else{var s,i;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==t){s=d;break}}s||(i=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=t),e[t]=[n];var u=(n,o)=>{s.onerror=s.onload=null,clearTimeout(p);var a=e[t];if(delete e[t],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(o))),n)return n(o)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=u.bind(null,s.onerror),s.onload=u.bind(null,s.onload),i&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&!e;)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{if("undefined"!=typeof document){var e={179:0};o.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{130:1}[t]&&n.push(e[t]=(e=>new Promise(((t,n)=>{var a=o.miniCssF(e),r=o.p+a;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var a=(s=n[o]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(a===e||a===t))return s}var r=document.getElementsByTagName("style");for(o=0;o<r.length;o++){var s;if((a=(s=r[o]).getAttribute("data-href"))===e||a===t)return s}})(a,r))return t();((e,t,n,o,a)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.onerror=r.onload=n=>{if(r.onerror=r.onload=null,"load"===n.type)o();else{var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=i,r.parentNode&&r.parentNode.removeChild(r),a(c)}},r.href=t,document.head.appendChild(r)})(e,r,0,t,n)})))(t).then((()=>{e[t]=0}),(n=>{throw delete e[t],n})))}}})(),(()=>{var e={179:0};o.f.j=(t,n)=>{var a=o.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var r=new Promise(((n,o)=>a=e[t]=[n,o]));n.push(a[2]=r);var s=o.p+o.u(t),i=new Error;o.l(s,(n=>{if(o.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",i.name="ChunkLoadError",i.type=r,i.request=s,a[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,r,[s,i,c]=n,l=0;if(s.some((t=>0!==e[t]))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);c&&c(o)}for(t&&t(n);l<s.length;l++)r=s[l],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=o(203),t=o(561),n=o(394),a=o(558);e.Z.initialize();const r=document.querySelector(".root");r?.append((0,t.default)(),(0,n.default)(),(0,a.default)())})()})();